## 2. 리덕스의 3가지 규칙

### 1 하나의 애플리케이션 안에는 하나의 스토어

### 2 상태는 읽기전용

- 리액트에서 state를 업데이트해야 할 때 setState를 사용하고, 배열을 업데이트해야할 때 배열 자체에 push를 직접하지 않고, concat 같은 함수를 사용하여 기존의 배열은 수정하지 않고 새로운 배열을 만들어서 교체하는 방식으로 업데이트함
- 엄청 깊은 구조로 되어있는 객체를 업데이트를 할 때도 마찬가지로, 기존의 객체는 건드리지 않고 `Object.assign`을 사용하거나 spread 연산자 (`...`) 를 사용하여 업데이트 하곤 함

- 리덕스에서도 마찬가지
- 기존의 상태는 건드리지 않고 새로운 상태를 생성하여 업데이트 해주는 방식으로 하면, 나중에 개발자 도구를 통해서 뒤로 돌릴 수도 있고 다시 앞으로 돌릴 수도 있음

- 리덕스에서 불변성을 유지해야하는 이유 : 내부적으로 데이터가 변경되는 것을 감지하기 위하여 `shallow equality` 검사를 하기 때문
- 이를 통하여 객체의 변화를 감지할 때 객체의 깊숙한 안쪽까지 비교를 하는 것이 아니라 겉핥기 식ㅇ로 비교하여 좋은 성능을 유지할 수 있음

### 변화를 일으키는 함수, 리듀서는 순수한 함수여야 함

- 리듀서 함수는 이전 상태와, 액션 개체를 파라미터로 받음
- 이전의 상태는 절대로 건들이지 않고, 변화를 일으킨 새로운 상태 객체를 만들어서 반환
- 똑같은 파라미터로 호출된 리듀서 함수는 **언제나** 똑같은 결괏값을 반환해야만 함
